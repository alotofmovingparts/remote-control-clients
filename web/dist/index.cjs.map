{"version":3,"file":"index.cjs","sources":["../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/v4.js","../node_modules/superjson/dist/esm/double-indexed-kv.js","../node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/superjson/dist/esm/class-registry.js","../node_modules/superjson/dist/esm/registry.js","../node_modules/debug/src/browser.js","../node_modules/superjson/dist/esm/symbol-registry.js","../node_modules/superjson/dist/esm/util.js","../node_modules/superjson/dist/esm/custom-transformer-registry.js","../node_modules/superjson/dist/esm/error-props.js","../node_modules/superjson/dist/esm/is.js","../node_modules/superjson/dist/esm/pathstringifier.js","../node_modules/superjson/dist/esm/transformer.js","../node_modules/superjson/dist/esm/accessDeep.js","../node_modules/superjson/dist/esm/plainer.js","../node_modules/lodash.clonedeep/index.js","../node_modules/superjson/dist/esm/index.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@trpc/client/dist/TRPCClientError-09b8a26b.esm.js","../node_modules/@trpc/client/links/wsLink/dist/trpc-client-links-wsLink.esm.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@trpc/client/dist/httpRequest-672ff1f0.esm.js","../node_modules/@trpc/client/links/httpBatchLink/dist/trpc-client-links-httpBatchLink.esm.js","../node_modules/@trpc/client/dist/trpc-client.esm.js","../src/index.ts"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","var DoubleIndexedKV = /** @class */ (function () {\n    function DoubleIndexedKV() {\n        this.keyToValue = new Map();\n        this.valueToKey = new Map();\n    }\n    DoubleIndexedKV.prototype.set = function (key, value) {\n        this.keyToValue.set(key, value);\n        this.valueToKey.set(value, key);\n    };\n    DoubleIndexedKV.prototype.getByKey = function (key) {\n        return this.keyToValue.get(key);\n    };\n    DoubleIndexedKV.prototype.getByValue = function (value) {\n        return this.valueToKey.get(value);\n    };\n    DoubleIndexedKV.prototype.clear = function () {\n        this.keyToValue.clear();\n        this.valueToKey.clear();\n    };\n    return DoubleIndexedKV;\n}());\nexport { DoubleIndexedKV };\n//# sourceMappingURL=double-indexed-kv.js.map","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Registry } from './registry';\nvar _ClassRegistry = /** @class */ (function (_super) {\n    __extends(_ClassRegistry, _super);\n    function _ClassRegistry() {\n        var _this = _super.call(this, function (c) { return c.name; }) || this;\n        _this.classToAllowedProps = new Map();\n        return _this;\n    }\n    _ClassRegistry.prototype.register = function (value, options) {\n        if (typeof options === 'object') {\n            if (options.allowProps) {\n                this.classToAllowedProps.set(value, options.allowProps);\n            }\n            _super.prototype.register.call(this, value, options.identifier);\n        }\n        else {\n            _super.prototype.register.call(this, value, options);\n        }\n    };\n    _ClassRegistry.prototype.getAllowedProps = function (value) {\n        return this.classToAllowedProps.get(value);\n    };\n    return _ClassRegistry;\n}(Registry));\nexport var ClassRegistry = new _ClassRegistry();\n//# sourceMappingURL=class-registry.js.map","import { DoubleIndexedKV } from './double-indexed-kv';\nimport createDebug from 'debug';\nvar debug = createDebug('superjson');\nvar Registry = /** @class */ (function () {\n    function Registry(generateIdentifier) {\n        this.generateIdentifier = generateIdentifier;\n        this.kv = new DoubleIndexedKV();\n    }\n    Registry.prototype.register = function (value, identifier) {\n        if (this.kv.getByValue(value)) {\n            return;\n        }\n        if (!identifier) {\n            identifier = this.generateIdentifier(value);\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            var alreadyRegistered = this.kv.getByKey(identifier);\n            if (alreadyRegistered && alreadyRegistered !== value) {\n                debug(\"Ambiguous class \\\"\" + identifier + \"\\\", provide a unique identifier.\");\n            }\n        }\n        this.kv.set(identifier, value);\n    };\n    Registry.prototype.clear = function () {\n        this.kv.clear();\n    };\n    Registry.prototype.getIdentifier = function (value) {\n        return this.kv.getByValue(value);\n    };\n    Registry.prototype.getValue = function (identifier) {\n        return this.kv.getByKey(identifier);\n    };\n    return Registry;\n}());\nexport { Registry };\n//# sourceMappingURL=registry.js.map","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","import { Registry } from './registry';\nexport var SymbolRegistry = new Registry(function (s) { var _a; return (_a = s.description) !== null && _a !== void 0 ? _a : ''; });\n//# sourceMappingURL=symbol-registry.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nfunction valuesOfObj(record) {\n    if ('values' in Object) {\n        // eslint-disable-next-line es5/no-es6-methods\n        return Object.values(record);\n    }\n    var values = [];\n    // eslint-disable-next-line no-restricted-syntax\n    for (var key in record) {\n        if (record.hasOwnProperty(key)) {\n            values.push(record[key]);\n        }\n    }\n    return values;\n}\nexport function find(record, predicate) {\n    var values = valuesOfObj(record);\n    if ('find' in values) {\n        // eslint-disable-next-line es5/no-es6-methods\n        return values.find(predicate);\n    }\n    var valuesNotNever = values;\n    for (var i = 0; i < valuesNotNever.length; i++) {\n        var value = valuesNotNever[i];\n        if (predicate(value)) {\n            return value;\n        }\n    }\n    return undefined;\n}\nexport function forEach(record, run) {\n    Object.entries(record).forEach(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], value = _b[1];\n        return run(value, key);\n    });\n}\nexport function includes(arr, value) {\n    return arr.indexOf(value) !== -1;\n}\nexport function findArr(record, predicate) {\n    for (var i = 0; i < record.length; i++) {\n        var value = record[i];\n        if (predicate(value)) {\n            return value;\n        }\n    }\n    return undefined;\n}\n//# sourceMappingURL=util.js.map","import { find } from './util';\nvar transfomers = {};\nexport var CustomTransformerRegistry = {\n    register: function (transformer) {\n        transfomers[transformer.name] = transformer;\n    },\n    findApplicable: function (v) {\n        return find(transfomers, function (transformer) { return transformer.isApplicable(v); });\n    },\n    findByName: function (name) {\n        return transfomers[name];\n    }\n};\n//# sourceMappingURL=custom-transformer-registry.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nexport var allowedErrorProps = [];\nexport var allowErrorProps = function () {\n    var props = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        props[_i] = arguments[_i];\n    }\n    allowedErrorProps.push.apply(allowedErrorProps, __spreadArray([], __read(props)));\n};\n//# sourceMappingURL=error-props.js.map","var getType = function (payload) {\n    return Object.prototype.toString.call(payload).slice(8, -1);\n};\nexport var isUndefined = function (payload) {\n    return typeof payload === 'undefined';\n};\nexport var isNull = function (payload) { return payload === null; };\nexport var isPlainObject = function (payload) {\n    if (getType(payload) !== 'Object')\n        return false;\n    if (Object.getPrototypeOf(payload) === null)\n        return true;\n    if (payload === Object.prototype)\n        return false;\n    return (payload.constructor === Object &&\n        Object.getPrototypeOf(payload) === Object.prototype);\n};\nexport var isEmptyObject = function (payload) {\n    return isPlainObject(payload) && Object.keys(payload).length === 0;\n};\nexport var isArray = function (payload) {\n    return Array.isArray(payload);\n};\nexport var isString = function (payload) {\n    return typeof payload === 'string';\n};\nexport var isNumber = function (payload) {\n    return typeof payload === 'number' && !isNaN(payload);\n};\nexport var isBoolean = function (payload) {\n    return typeof payload === 'boolean';\n};\nexport var isRegExp = function (payload) {\n    return payload instanceof RegExp;\n};\nexport var isMap = function (payload) {\n    return payload instanceof Map;\n};\nexport var isSet = function (payload) {\n    return payload instanceof Set;\n};\nexport var isSymbol = function (payload) {\n    return getType(payload) === 'Symbol';\n};\nexport var isDate = function (payload) {\n    return payload instanceof Date && !isNaN(payload.valueOf());\n};\nexport var isError = function (payload) {\n    return payload instanceof Error;\n};\nexport var isNaNValue = function (payload) {\n    return typeof payload === 'number' && isNaN(payload);\n};\nexport var isPrimitive = function (payload) {\n    return isBoolean(payload) ||\n        isNull(payload) ||\n        isUndefined(payload) ||\n        isNumber(payload) ||\n        isString(payload) ||\n        isSymbol(payload);\n};\nexport var isBigint = function (payload) {\n    return typeof payload === 'bigint';\n};\nexport var isInfinite = function (payload) {\n    return payload === Infinity || payload === -Infinity;\n};\nexport var isTypedArray = function (payload) {\n    return ArrayBuffer.isView(payload) && !(payload instanceof DataView);\n};\n//# sourceMappingURL=is.js.map","export var escapeKey = function (key) { return key.replace(/\\./g, '\\\\.'); };\nexport var stringifyPath = function (path) {\n    return path\n        .map(String)\n        .map(escapeKey)\n        .join('.');\n};\nexport var parsePath = function (string) {\n    var result = [];\n    var segment = '';\n    for (var i = 0; i < string.length; i++) {\n        var char = string.charAt(i);\n        var isEscapedDot = char === '\\\\' && string.charAt(i + 1) === '.';\n        if (isEscapedDot) {\n            segment += '.';\n            i++;\n            continue;\n        }\n        var isEndOfSegment = char === '.';\n        if (isEndOfSegment) {\n            result.push(segment);\n            segment = '';\n            continue;\n        }\n        segment += char;\n    }\n    var lastSegment = segment;\n    result.push(lastSegment);\n    return result;\n};\n//# sourceMappingURL=pathstringifier.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport { isBigint, isDate, isInfinite, isMap, isNaNValue, isRegExp, isSet, isUndefined, isSymbol, isArray, isError, isTypedArray, } from './is';\nimport { ClassRegistry } from './class-registry';\nimport { SymbolRegistry } from './symbol-registry';\nimport { CustomTransformerRegistry } from './custom-transformer-registry';\nimport { allowedErrorProps } from './error-props';\nimport { findArr } from './util';\nfunction simpleTransformation(isApplicable, annotation, transform, untransform) {\n    return {\n        isApplicable: isApplicable,\n        annotation: annotation,\n        transform: transform,\n        untransform: untransform\n    };\n}\nvar simpleRules = [\n    simpleTransformation(isUndefined, 'undefined', function () { return null; }, function () { return undefined; }),\n    simpleTransformation(isBigint, 'bigint', function (v) { return v.toString(); }, function (v) {\n        if (typeof BigInt !== 'undefined') {\n            return BigInt(v);\n        }\n        console.error('Please add a BigInt polyfill.');\n        return v;\n    }),\n    simpleTransformation(isDate, 'Date', function (v) { return v.toISOString(); }, function (v) { return new Date(v); }),\n    simpleTransformation(isError, 'Error', function (v) {\n        var baseError = {\n            name: v.name,\n            message: v.message\n        };\n        allowedErrorProps.forEach(function (prop) {\n            baseError[prop] = v[prop];\n        });\n        return baseError;\n    }, function (v) {\n        var e = new Error(v.message);\n        e.name = v.name;\n        e.stack = v.stack;\n        allowedErrorProps.forEach(function (prop) {\n            e[prop] = v[prop];\n        });\n        return e;\n    }),\n    simpleTransformation(isRegExp, 'regexp', function (v) { return '' + v; }, function (regex) {\n        var body = regex.slice(1, regex.lastIndexOf('/'));\n        var flags = regex.slice(regex.lastIndexOf('/') + 1);\n        return new RegExp(body, flags);\n    }),\n    simpleTransformation(isSet, 'set', \n    // (sets only exist in es6+)\n    // eslint-disable-next-line es5/no-es6-methods\n    function (v) { return __spreadArray([], __read(v.values())); }, function (v) { return new Set(v); }),\n    simpleTransformation(isMap, 'map', function (v) { return __spreadArray([], __read(v.entries())); }, function (v) { return new Map(v); }),\n    simpleTransformation(function (v) { return isNaNValue(v) || isInfinite(v); }, 'number', function (v) {\n        if (isNaNValue(v)) {\n            return 'NaN';\n        }\n        if (v > 0) {\n            return 'Infinity';\n        }\n        else {\n            return '-Infinity';\n        }\n    }, Number),\n    simpleTransformation(function (v) { return v === 0 && 1 / v === -Infinity; }, 'number', function () {\n        return '-0';\n    }, Number),\n];\nfunction compositeTransformation(isApplicable, annotation, transform, untransform) {\n    return {\n        isApplicable: isApplicable,\n        annotation: annotation,\n        transform: transform,\n        untransform: untransform\n    };\n}\nvar symbolRule = compositeTransformation(function (s) {\n    if (isSymbol(s)) {\n        var isRegistered = !!SymbolRegistry.getIdentifier(s);\n        return isRegistered;\n    }\n    return false;\n}, function (s) {\n    var identifier = SymbolRegistry.getIdentifier(s);\n    return ['symbol', identifier];\n}, function (v) { return v.description; }, function (_, a) {\n    var value = SymbolRegistry.getValue(a[1]);\n    if (!value) {\n        throw new Error('Trying to deserialize unknown symbol');\n    }\n    return value;\n});\nvar constructorToName = [\n    Int8Array,\n    Uint8Array,\n    Int16Array,\n    Uint16Array,\n    Int32Array,\n    Uint32Array,\n    Float32Array,\n    Float64Array,\n    Uint8ClampedArray,\n].reduce(function (obj, ctor) {\n    obj[ctor.name] = ctor;\n    return obj;\n}, {});\nvar typedArrayRule = compositeTransformation(isTypedArray, function (v) { return ['typed-array', v.constructor.name]; }, function (v) { return __spreadArray([], __read(v)); }, function (v, a) {\n    var ctor = constructorToName[a[1]];\n    if (!ctor) {\n        throw new Error('Trying to deserialize unknown typed array');\n    }\n    return new ctor(v);\n});\nexport function isInstanceOfRegisteredClass(potentialClass) {\n    if (potentialClass === null || potentialClass === void 0 ? void 0 : potentialClass.constructor) {\n        var isRegistered = !!ClassRegistry.getIdentifier(potentialClass.constructor);\n        return isRegistered;\n    }\n    return false;\n}\nvar classRule = compositeTransformation(isInstanceOfRegisteredClass, function (clazz) {\n    var identifier = ClassRegistry.getIdentifier(clazz.constructor);\n    return ['class', identifier];\n}, function (clazz) {\n    var allowedProps = ClassRegistry.getAllowedProps(clazz.constructor);\n    if (!allowedProps) {\n        return __assign({}, clazz);\n    }\n    var result = {};\n    allowedProps.forEach(function (prop) {\n        result[prop] = clazz[prop];\n    });\n    return result;\n}, function (v, a) {\n    var clazz = ClassRegistry.getValue(a[1]);\n    if (!clazz) {\n        throw new Error('Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564');\n    }\n    return Object.assign(Object.create(clazz.prototype), v);\n});\nvar customRule = compositeTransformation(function (value) {\n    return !!CustomTransformerRegistry.findApplicable(value);\n}, function (value) {\n    var transformer = CustomTransformerRegistry.findApplicable(value);\n    return ['custom', transformer.name];\n}, function (value) {\n    var transformer = CustomTransformerRegistry.findApplicable(value);\n    return transformer.serialize(value);\n}, function (v, a) {\n    var transformer = CustomTransformerRegistry.findByName(a[1]);\n    if (!transformer) {\n        throw new Error('Trying to deserialize unknown custom value');\n    }\n    return transformer.deserialize(v);\n});\nvar compositeRules = [classRule, symbolRule, customRule, typedArrayRule];\nexport var transformValue = function (value) {\n    var applicableCompositeRule = findArr(compositeRules, function (rule) {\n        return rule.isApplicable(value);\n    });\n    if (applicableCompositeRule) {\n        return {\n            value: applicableCompositeRule.transform(value),\n            type: applicableCompositeRule.annotation(value)\n        };\n    }\n    var applicableSimpleRule = findArr(simpleRules, function (rule) {\n        return rule.isApplicable(value);\n    });\n    if (applicableSimpleRule) {\n        return {\n            value: applicableSimpleRule.transform(value),\n            type: applicableSimpleRule.annotation\n        };\n    }\n    return undefined;\n};\nvar simpleRulesByAnnotation = {};\nsimpleRules.forEach(function (rule) {\n    simpleRulesByAnnotation[rule.annotation] = rule;\n});\nexport var untransformValue = function (json, type) {\n    if (isArray(type)) {\n        switch (type[0]) {\n            case 'symbol':\n                return symbolRule.untransform(json, type);\n            case 'class':\n                return classRule.untransform(json, type);\n            case 'custom':\n                return customRule.untransform(json, type);\n            case 'typed-array':\n                return typedArrayRule.untransform(json, type);\n            default:\n                throw new Error('Unknown transformation: ' + type);\n        }\n    }\n    else {\n        var transformation = simpleRulesByAnnotation[type];\n        if (!transformation) {\n            throw new Error('Unknown transformation: ' + type);\n        }\n        return transformation.untransform(json);\n    }\n};\n//# sourceMappingURL=transformer.js.map","import { isMap, isArray, isPlainObject, isSet } from './is';\nimport { includes } from './util';\nvar getNthKey = function (value, n) {\n    var keys = value.keys();\n    while (n > 0) {\n        keys.next();\n        n--;\n    }\n    return keys.next().value;\n};\nfunction validatePath(path) {\n    if (includes(path, '__proto__')) {\n        throw new Error('__proto__ is not allowed as a property');\n    }\n    if (includes(path, 'prototype')) {\n        throw new Error('prototype is not allowed as a property');\n    }\n    if (includes(path, 'constructor')) {\n        throw new Error('constructor is not allowed as a property');\n    }\n}\nexport var getDeep = function (object, path) {\n    validatePath(path);\n    path.forEach(function (key) {\n        object = object[key];\n    });\n    return object;\n};\nexport var setDeep = function (object, path, mapper) {\n    validatePath(path);\n    if (path.length === 0) {\n        return mapper(object);\n    }\n    var parent = object;\n    for (var i = 0; i < path.length - 1; i++) {\n        var key = path[i];\n        if (isArray(parent)) {\n            var index = +key;\n            parent = parent[index];\n        }\n        else if (isPlainObject(parent)) {\n            parent = parent[key];\n        }\n        else if (isSet(parent)) {\n            var row = +key;\n            parent = getNthKey(parent, row);\n        }\n        else if (isMap(parent)) {\n            var isEnd = i === path.length - 2;\n            if (isEnd) {\n                break;\n            }\n            var row = +key;\n            var type = +path[++i] === 0 ? 'key' : 'value';\n            var keyOfRow = getNthKey(parent, row);\n            switch (type) {\n                case 'key':\n                    parent = keyOfRow;\n                    break;\n                case 'value':\n                    parent = parent.get(keyOfRow);\n                    break;\n            }\n        }\n    }\n    var lastKey = path[path.length - 1];\n    if (isArray(parent) || isPlainObject(parent)) {\n        parent[lastKey] = mapper(parent[lastKey]);\n    }\n    if (isSet(parent)) {\n        var oldValue = getNthKey(parent, +lastKey);\n        var newValue = mapper(oldValue);\n        if (oldValue !== newValue) {\n            parent[\"delete\"](oldValue);\n            parent.add(newValue);\n        }\n    }\n    if (isMap(parent)) {\n        var row = +path[path.length - 2];\n        var keyToRow = getNthKey(parent, row);\n        var type = +lastKey === 0 ? 'key' : 'value';\n        switch (type) {\n            case 'key': {\n                var newKey = mapper(keyToRow);\n                parent.set(newKey, parent.get(keyToRow));\n                if (newKey !== keyToRow) {\n                    parent[\"delete\"](keyToRow);\n                }\n                break;\n            }\n            case 'value': {\n                parent.set(keyToRow, mapper(parent.get(keyToRow)));\n                break;\n            }\n        }\n    }\n    return object;\n};\n//# sourceMappingURL=accessDeep.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nimport { isArray, isEmptyObject, isMap, isPlainObject, isPrimitive, isSet, } from './is';\nimport { escapeKey, stringifyPath } from './pathstringifier';\nimport { isInstanceOfRegisteredClass, transformValue, untransformValue, } from './transformer';\nimport { includes, forEach } from './util';\nimport { parsePath } from './pathstringifier';\nimport { getDeep, setDeep } from './accessDeep';\nfunction traverse(tree, walker, origin) {\n    if (origin === void 0) { origin = []; }\n    if (!tree) {\n        return;\n    }\n    if (!isArray(tree)) {\n        forEach(tree, function (subtree, key) {\n            return traverse(subtree, walker, __spreadArray(__spreadArray([], __read(origin)), __read(parsePath(key))));\n        });\n        return;\n    }\n    var _a = __read(tree, 2), nodeValue = _a[0], children = _a[1];\n    if (children) {\n        forEach(children, function (child, key) {\n            traverse(child, walker, __spreadArray(__spreadArray([], __read(origin)), __read(parsePath(key))));\n        });\n    }\n    walker(nodeValue, origin);\n}\nexport function applyValueAnnotations(plain, annotations) {\n    traverse(annotations, function (type, path) {\n        plain = setDeep(plain, path, function (v) { return untransformValue(v, type); });\n    });\n    return plain;\n}\nexport function applyReferentialEqualityAnnotations(plain, annotations) {\n    function apply(identicalPaths, path) {\n        var object = getDeep(plain, parsePath(path));\n        identicalPaths.map(parsePath).forEach(function (identicalObjectPath) {\n            plain = setDeep(plain, identicalObjectPath, function () { return object; });\n        });\n    }\n    if (isArray(annotations)) {\n        var _a = __read(annotations, 2), root = _a[0], other = _a[1];\n        root.forEach(function (identicalPath) {\n            plain = setDeep(plain, parsePath(identicalPath), function () { return plain; });\n        });\n        if (other) {\n            forEach(other, apply);\n        }\n    }\n    else {\n        forEach(annotations, apply);\n    }\n    return plain;\n}\nvar isDeep = function (object) {\n    return isPlainObject(object) ||\n        isArray(object) ||\n        isMap(object) ||\n        isSet(object) ||\n        isInstanceOfRegisteredClass(object);\n};\nfunction addIdentity(object, path, identities) {\n    var existingSet = identities.get(object);\n    if (existingSet) {\n        existingSet.push(path);\n    }\n    else {\n        identities.set(object, [path]);\n    }\n}\nexport function generateReferentialEqualityAnnotations(identitites) {\n    var result = {};\n    var rootEqualityPaths = undefined;\n    identitites.forEach(function (paths) {\n        if (paths.length <= 1) {\n            return;\n        }\n        var _a = __read(paths\n            .map(function (path) { return path.map(String); })\n            .sort(function (a, b) { return a.length - b.length; })), shortestPath = _a[0], identicalPaths = _a.slice(1);\n        if (shortestPath.length === 0) {\n            rootEqualityPaths = identicalPaths.map(stringifyPath);\n        }\n        else {\n            result[stringifyPath(shortestPath)] = identicalPaths.map(stringifyPath);\n        }\n    });\n    if (rootEqualityPaths) {\n        if (isEmptyObject(result)) {\n            return [rootEqualityPaths];\n        }\n        else {\n            return [rootEqualityPaths, result];\n        }\n    }\n    else {\n        return isEmptyObject(result) ? undefined : result;\n    }\n}\nexport var walker = function (object, identities, path, objectsInThisPath) {\n    var _a;\n    if (path === void 0) { path = []; }\n    if (objectsInThisPath === void 0) { objectsInThisPath = []; }\n    if (!isPrimitive(object)) {\n        addIdentity(object, path, identities);\n    }\n    if (!isDeep(object)) {\n        var transformed_1 = transformValue(object);\n        if (transformed_1) {\n            return {\n                transformedValue: transformed_1.value,\n                annotations: [transformed_1.type]\n            };\n        }\n        else {\n            return {\n                transformedValue: object\n            };\n        }\n    }\n    if (includes(objectsInThisPath, object)) {\n        return {\n            transformedValue: null\n        };\n    }\n    var transformationResult = transformValue(object);\n    var transformed = (_a = transformationResult === null || transformationResult === void 0 ? void 0 : transformationResult.value) !== null && _a !== void 0 ? _a : object;\n    if (!isPrimitive(object)) {\n        objectsInThisPath = __spreadArray(__spreadArray([], __read(objectsInThisPath)), [object]);\n    }\n    var transformedValue = isArray(transformed) ? [] : {};\n    var innerAnnotations = {};\n    forEach(transformed, function (value, index) {\n        var recursiveResult = walker(value, identities, __spreadArray(__spreadArray([], __read(path)), [index]), objectsInThisPath);\n        transformedValue[index] = recursiveResult.transformedValue;\n        if (isArray(recursiveResult.annotations)) {\n            innerAnnotations[index] = recursiveResult.annotations;\n        }\n        else if (isPlainObject(recursiveResult.annotations)) {\n            forEach(recursiveResult.annotations, function (tree, key) {\n                innerAnnotations[escapeKey(index) + '.' + key] = tree;\n            });\n        }\n    });\n    if (isEmptyObject(innerAnnotations)) {\n        return {\n            transformedValue: transformedValue,\n            annotations: !!transformationResult\n                ? [transformationResult.type]\n                : undefined\n        };\n    }\n    else {\n        return {\n            transformedValue: transformedValue,\n            annotations: !!transformationResult\n                ? [transformationResult.type, innerAnnotations]\n                : innerAnnotations\n        };\n    }\n};\n//# sourceMappingURL=plainer.js.map","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ClassRegistry } from './class-registry';\nimport { SymbolRegistry } from './symbol-registry';\nimport { CustomTransformerRegistry, } from './custom-transformer-registry';\nimport { allowErrorProps } from './error-props';\nimport { walker, applyReferentialEqualityAnnotations, applyValueAnnotations, generateReferentialEqualityAnnotations, } from './plainer';\nimport cloneDeep from 'lodash.clonedeep';\nexport var serialize = function (object) {\n    var identities = new Map();\n    var output = walker(object, identities);\n    var res = {\n        json: output.transformedValue\n    };\n    if (output.annotations) {\n        res.meta = __assign(__assign({}, res.meta), { values: output.annotations });\n    }\n    var equalityAnnotations = generateReferentialEqualityAnnotations(identities);\n    if (equalityAnnotations) {\n        res.meta = __assign(__assign({}, res.meta), { referentialEqualities: equalityAnnotations });\n    }\n    return res;\n};\nexport var deserialize = function (payload) {\n    var json = payload.json, meta = payload.meta;\n    var result = cloneDeep(json);\n    if (meta === null || meta === void 0 ? void 0 : meta.values) {\n        result = applyValueAnnotations(result, meta.values);\n    }\n    if (meta === null || meta === void 0 ? void 0 : meta.referentialEqualities) {\n        result = applyReferentialEqualityAnnotations(result, meta.referentialEqualities);\n    }\n    return result;\n};\nvar stringify = function (object) {\n    return JSON.stringify(serialize(object));\n};\nexport var parse = function (string) {\n    return deserialize(JSON.parse(string));\n};\nvar registerClass = function (v, options) {\n    return ClassRegistry.register(v, options);\n};\nvar registerSymbol = function (v, identifier) {\n    return SymbolRegistry.register(v, identifier);\n};\nvar registerCustom = function (transformer, name) {\n    return CustomTransformerRegistry.register(__assign({ name: name }, transformer));\n};\nexport default {\n    stringify: stringify,\n    parse: parse,\n    serialize: serialize,\n    deserialize: deserialize,\n    registerClass: registerClass,\n    registerSymbol: registerSymbol,\n    registerCustom: registerCustom,\n    allowErrorProps: allowErrorProps\n};\n//# sourceMappingURL=index.js.map","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _createSuper from '@babel/runtime/helpers/esm/createSuper';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\n\nvar TRPCClientError = /*#__PURE__*/function (_Error) {\n  _inherits(TRPCClientError, _Error);\n\n  var _super = /*#__PURE__*/_createSuper(TRPCClientError);\n\n  /**\n   * @deprecated use `cause`\n   */\n\n  /**\n   * Fatal error - expect no more results after this error\n   * Used for when WebSockets disconnect prematurely.\n   */\n  function TRPCClientError(message, opts) {\n    var _opts$cause, _opts$isDone, _opts$result, _opts$result2;\n\n    var _this;\n\n    _classCallCheck(this, TRPCClientError);\n\n    var cause = (_opts$cause = opts.cause) !== null && _opts$cause !== void 0 ? _opts$cause : opts.originalError; // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore https://github.com/tc39/proposal-error-cause\n\n    _this = _super.call(this, message, {\n      cause: cause\n    });\n    _this.originalError = void 0;\n    _this.cause = void 0;\n    _this.shape = void 0;\n    _this.data = void 0;\n    _this.isDone = void 0;\n    _this.isDone = (_opts$isDone = opts.isDone) !== null && _opts$isDone !== void 0 ? _opts$isDone : false;\n    _this.cause = _this.originalError = cause;\n    _this.shape = (_opts$result = opts.result) === null || _opts$result === void 0 ? void 0 : _opts$result.error;\n    _this.data = (_opts$result2 = opts.result) === null || _opts$result2 === void 0 ? void 0 : _opts$result2.error.data;\n    _this.name = 'TRPCClientError';\n    Object.setPrototypeOf(_assertThisInitialized(_this), TRPCClientError.prototype);\n    return _this;\n  }\n\n  _createClass(TRPCClientError, null, [{\n    key: \"from\",\n    value: function from(result) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!(result instanceof Error)) {\n        var _message;\n\n        return new TRPCClientError((_message = result.error.message) !== null && _message !== void 0 ? _message : '', _objectSpread(_objectSpread({}, opts), {}, {\n          cause: null,\n          result: result\n        }));\n      }\n\n      if (result.name === 'TRPCClientError') {\n        return result;\n      }\n\n      return new TRPCClientError(result.message, _objectSpread(_objectSpread({}, opts), {}, {\n        cause: result,\n        result: null\n      }));\n    }\n  }]);\n\n  return TRPCClientError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nexport { TRPCClientError as T };\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _createSuper from '@babel/runtime/helpers/esm/createSuper';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport { T as TRPCClientError } from '../../../dist/TRPCClientError-09b8a26b.esm.js';\nimport '@babel/runtime/helpers/createClass';\n\n/* istanbul ignore next */\nvar retryDelay = function retryDelay(attemptIndex) {\n  return attemptIndex === 0 ? 0 : Math.min(1000 * Math.pow(2, attemptIndex), 30000);\n};\n\nfunction createWSClient(opts) {\n  var url = opts.url,\n      _opts$WebSocket = opts.WebSocket,\n      WebSocketImpl = _opts$WebSocket === void 0 ? WebSocket : _opts$WebSocket,\n      _opts$retryDelayMs = opts.retryDelayMs,\n      retryDelayFn = _opts$retryDelayMs === void 0 ? retryDelay : _opts$retryDelayMs;\n  /* istanbul ignore next */\n\n  if (!WebSocketImpl) {\n    throw new Error(\"No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill\");\n  }\n  /**\n   * outgoing messages buffer whilst not open\n   */\n\n\n  var outgoing = [];\n  /**\n   * pending outgoing requests that are awaiting callback\n   */\n\n  var pendingRequests = Object.create(null);\n  var connectAttempt = 0;\n  var dispatchTimer = null;\n  var connectTimer = null;\n  var activeConnection = createWS();\n  var state = 'connecting';\n  /**\n   * tries to send the list of messages\n   */\n\n  function dispatch() {\n    if (state !== 'open' || dispatchTimer) {\n      return;\n    }\n\n    dispatchTimer = setTimeout(function () {\n      dispatchTimer = null;\n\n      if (outgoing.length === 1) {\n        // single send\n        activeConnection.send(JSON.stringify(outgoing.pop()));\n      } else {\n        // batch send\n        activeConnection.send(JSON.stringify(outgoing));\n      } // clear\n\n\n      outgoing = [];\n    });\n  }\n\n  function tryReconnect() {\n    if (connectTimer || state === 'closed') {\n      return;\n    }\n\n    var timeout = retryDelayFn(connectAttempt++);\n    reconnectInMs(timeout);\n  }\n\n  function reconnect() {\n    state = 'connecting';\n    var oldConnection = activeConnection;\n    activeConnection = createWS();\n    closeIfNoPending(oldConnection);\n  }\n\n  function reconnectInMs(ms) {\n    if (connectTimer) {\n      return;\n    }\n\n    state = 'connecting';\n    connectTimer = setTimeout(reconnect, ms);\n  }\n\n  function closeIfNoPending(conn) {\n    // disconnect as soon as there are are no pending result\n    var hasPendingRequests = Object.values(pendingRequests).some(function (p) {\n      return p.ws === conn;\n    });\n\n    if (!hasPendingRequests) {\n      conn.close();\n    }\n  }\n\n  function resumeSubscriptionOnReconnect(req) {\n    if (outgoing.some(function (r) {\n      return r.id === req.op.id;\n    })) {\n      return;\n    }\n\n    request(req.op, req.callbacks);\n  }\n\n  function createWS() {\n    var conn = new WebSocket(url);\n    clearTimeout(connectTimer);\n    connectTimer = null;\n    conn.addEventListener('open', function () {\n      /* istanbul ignore next */\n      if (conn !== activeConnection) {\n        return;\n      }\n\n      connectAttempt = 0;\n      state = 'open';\n      dispatch();\n    });\n    conn.addEventListener('error', function () {\n      if (conn === activeConnection) {\n        tryReconnect();\n      }\n    });\n\n    var handleIncomingRequest = function handleIncomingRequest(req) {\n      if (req.method === 'reconnect' && conn === activeConnection) {\n        reconnect(); // notify subscribers\n\n        for (var _i = 0, _Object$values = Object.values(pendingRequests); _i < _Object$values.length; _i++) {\n          var pendingReq = _Object$values[_i];\n\n          if (pendingReq.type === 'subscription') {\n            resumeSubscriptionOnReconnect(pendingReq);\n          }\n        }\n      }\n    };\n\n    var handleIncomingResponse = function handleIncomingResponse(res) {\n      var _req$callbacks$onNext, _req$callbacks2;\n\n      var req = res.id !== null && pendingRequests[res.id];\n\n      if (!req) {\n        // do something?\n        return;\n      }\n\n      if ('error' in res) {\n        var _req$callbacks$onErro, _req$callbacks;\n\n        (_req$callbacks$onErro = (_req$callbacks = req.callbacks).onError) === null || _req$callbacks$onErro === void 0 ? void 0 : _req$callbacks$onErro.call(_req$callbacks, res);\n        return;\n      }\n\n      (_req$callbacks$onNext = (_req$callbacks2 = req.callbacks).onNext) === null || _req$callbacks$onNext === void 0 ? void 0 : _req$callbacks$onNext.call(_req$callbacks2, res.result);\n\n      if (req.ws !== activeConnection && conn === activeConnection) {\n        var oldWs = req.ws; // gracefully replace old connection with this\n\n        req.ws = activeConnection;\n        closeIfNoPending(oldWs);\n      }\n\n      if (res.result.type === 'stopped' && conn === activeConnection) {\n        var _req$callbacks$onDone, _req$callbacks3;\n\n        (_req$callbacks$onDone = (_req$callbacks3 = req.callbacks).onDone) === null || _req$callbacks$onDone === void 0 ? void 0 : _req$callbacks$onDone.call(_req$callbacks3);\n      }\n    };\n\n    conn.addEventListener('message', function (_ref) {\n      var data = _ref.data;\n      var msg = JSON.parse(data);\n\n      if ('method' in msg) {\n        handleIncomingRequest(msg);\n      } else {\n        handleIncomingResponse(msg);\n      }\n\n      if (conn !== activeConnection || state === 'closed') {\n        // when receiving a message, we close old connection that has no pending requests\n        closeIfNoPending(conn);\n      }\n    });\n    conn.addEventListener('close', function () {\n      if (activeConnection === conn) {\n        // connection might have been replaced already\n        tryReconnect();\n      }\n\n      for (var key in pendingRequests) {\n        var _req$callbacks$onErro2, _req$callbacks4;\n\n        var req = pendingRequests[key];\n\n        if (req.ws !== conn) {\n          continue;\n        }\n\n        (_req$callbacks$onErro2 = (_req$callbacks4 = req.callbacks).onError) === null || _req$callbacks$onErro2 === void 0 ? void 0 : _req$callbacks$onErro2.call(_req$callbacks4, TRPCClientError.from(new TRPCWebSocketClosedError('WebSocket closed prematurely')));\n\n        if (req.type !== 'subscription') {\n          var _req$callbacks$onDone2, _req$callbacks5;\n\n          delete pendingRequests[key];\n          (_req$callbacks$onDone2 = (_req$callbacks5 = req.callbacks).onDone) === null || _req$callbacks$onDone2 === void 0 ? void 0 : _req$callbacks$onDone2.call(_req$callbacks5);\n        } else if (state !== 'closed') {\n          // request restart of sub with next connection\n          resumeSubscriptionOnReconnect(req);\n        }\n      }\n    });\n    return conn;\n  }\n\n  function request(op, callbacks) {\n    var type = op.type,\n        input = op.input,\n        path = op.path,\n        id = op.id;\n    var envelope = {\n      id: id,\n      jsonrpc: '2.0',\n      method: type,\n      params: {\n        input: input,\n        path: path\n      }\n    };\n    pendingRequests[id] = {\n      ws: activeConnection,\n      type: type,\n      callbacks: callbacks,\n      op: op\n    }; // enqueue message\n\n    outgoing.push(envelope);\n    dispatch();\n    return function () {\n      var _pendingRequests$id, _callbacks$onDone;\n\n      var callbacks = (_pendingRequests$id = pendingRequests[id]) === null || _pendingRequests$id === void 0 ? void 0 : _pendingRequests$id.callbacks;\n      delete pendingRequests[id];\n      outgoing = outgoing.filter(function (msg) {\n        return msg.id !== id;\n      });\n      callbacks === null || callbacks === void 0 ? void 0 : (_callbacks$onDone = callbacks.onDone) === null || _callbacks$onDone === void 0 ? void 0 : _callbacks$onDone.call(callbacks);\n\n      if (op.type === 'subscription') {\n        outgoing.push({\n          id: id,\n          method: 'subscription.stop',\n          params: undefined\n        });\n        dispatch();\n      }\n    };\n  }\n\n  return {\n    close: function close() {\n      state = 'closed';\n      closeIfNoPending(activeConnection);\n    },\n    request: request,\n    getConnection: function getConnection() {\n      return activeConnection;\n    }\n  };\n}\n\nvar TRPCWebSocketClosedError = /*#__PURE__*/function (_Error) {\n  _inherits(TRPCWebSocketClosedError, _Error);\n\n  var _super = /*#__PURE__*/_createSuper(TRPCWebSocketClosedError);\n\n  function TRPCWebSocketClosedError(message) {\n    var _this;\n\n    _classCallCheck(this, TRPCWebSocketClosedError);\n\n    _this = _super.call(this, message);\n    _this.name = 'TRPCWebSocketClosedError';\n    Object.setPrototypeOf(_assertThisInitialized(_this), TRPCWebSocketClosedError.prototype);\n    return _this;\n  }\n\n  return TRPCWebSocketClosedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar TRPCSubscriptionEndedError = /*#__PURE__*/function (_Error2) {\n  _inherits(TRPCSubscriptionEndedError, _Error2);\n\n  var _super2 = /*#__PURE__*/_createSuper(TRPCSubscriptionEndedError);\n\n  function TRPCSubscriptionEndedError(message) {\n    var _this2;\n\n    _classCallCheck(this, TRPCSubscriptionEndedError);\n\n    _this2 = _super2.call(this, message);\n    _this2.name = 'TRPCSubscriptionEndedError';\n    Object.setPrototypeOf(_assertThisInitialized(_this2), TRPCSubscriptionEndedError.prototype);\n    return _this2;\n  }\n\n  return TRPCSubscriptionEndedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nfunction wsLink(opts) {\n  // initialized config\n  return function (rt) {\n    var client = opts.client;\n    return function (_ref2) {\n      var op = _ref2.op,\n          prev = _ref2.prev,\n          onDestroy = _ref2.onDestroy;\n      var type = op.type,\n          rawInput = op.input,\n          path = op.path,\n          id = op.id;\n      var input = rt.transformer.serialize(rawInput);\n      var isDone = false;\n      var unsub = client.request({\n        type: type,\n        path: path,\n        input: input,\n        id: id\n      }, {\n        onNext: function onNext(result) {\n          if (isDone) {\n            return;\n          }\n\n          if ('data' in result) {\n            var data = rt.transformer.deserialize(result.data);\n            prev({\n              type: 'data',\n              data: data\n            });\n          } else {\n            prev(result);\n          }\n\n          if (op.type !== 'subscription') {\n            // if it isn't a subscription we don't care about next response\n            isDone = true;\n            unsub();\n          }\n        },\n        onError: function onError(err) {\n          if (isDone) {\n            return;\n          }\n\n          prev(err instanceof Error ? err : TRPCClientError.from(_objectSpread(_objectSpread({}, err), {}, {\n            error: rt.transformer.deserialize(err.error)\n          })));\n        },\n        onDone: function onDone() {\n          if (isDone) {\n            return;\n          }\n\n          var result = new TRPCSubscriptionEndedError('Operation ended prematurely');\n          prev(TRPCClientError.from(result, {\n            isDone: true\n          }));\n          isDone = true;\n        }\n      });\n      onDestroy(function () {\n        isDone = true;\n        unsub();\n      });\n    };\n  };\n}\n\nexport { createWSClient, wsLink };\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _createSuper from '@babel/runtime/helpers/esm/createSuper';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\nimport { T as TRPCClientError } from './TRPCClientError-09b8a26b.esm.js';\n\nvar TRPCAbortError = /*#__PURE__*/function (_Error) {\n  _inherits(TRPCAbortError, _Error);\n\n  var _super = /*#__PURE__*/_createSuper(TRPCAbortError);\n\n  function TRPCAbortError() {\n    var _this;\n\n    _classCallCheck(this, TRPCAbortError);\n\n    _this = _super.call(this, 'The operation was aborted.');\n    _this.name = 'TRPCAbortError';\n    Object.setPrototypeOf(_assertThisInitialized(_this), TRPCAbortError.prototype);\n    return _this;\n  }\n\n  return TRPCAbortError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nfunction transformRPCResponse(_ref) {\n  var envelope = _ref.envelope,\n      runtime = _ref.runtime;\n\n  if ('error' in envelope) {\n    return TRPCClientError.from(_objectSpread(_objectSpread({}, envelope), {}, {\n      error: runtime.transformer.deserialize(envelope.error)\n    }));\n  }\n\n  if (envelope.result.type === 'data') {\n    return _objectSpread(_objectSpread({}, envelope.result), {}, {\n      data: runtime.transformer.deserialize(envelope.result.data)\n    });\n  }\n\n  return envelope.result;\n}\n\n// https://github.com/trpc/trpc/pull/669\nfunction arrayToDict(array) {\n  var dict = {};\n\n  for (var index = 0; index < array.length; index++) {\n    var element = array[index];\n    dict[index] = element;\n  }\n\n  return dict;\n}\n\nfunction httpRequest(props) {\n  var type = props.type,\n      rt = props.runtime,\n      path = props.path;\n  var ac = rt.AbortController ? new rt.AbortController() : null;\n  var method = {\n    query: 'GET',\n    mutation: 'POST',\n    subscription: 'PATCH'\n  };\n  var input = 'input' in props ? rt.transformer.serialize(props.input) : arrayToDict(props.inputs.map(function (_input) {\n    return rt.transformer.serialize(_input);\n  }));\n\n  function getUrl() {\n    var url = props.url + '/' + path;\n    var queryParts = [];\n\n    if ('inputs' in props) {\n      queryParts.push('batch=1');\n    }\n\n    if (type === 'query' && input !== undefined) {\n      queryParts.push(\"input=\".concat(encodeURIComponent(JSON.stringify(input))));\n    }\n\n    if (queryParts.length) {\n      url += '?' + queryParts.join('&');\n    }\n\n    return url;\n  }\n\n  function getBody() {\n    if (type === 'query') {\n      return undefined;\n    }\n\n    return input !== undefined ? JSON.stringify(input) : undefined;\n  }\n\n  var promise = new Promise(function (resolve, reject) {\n    var url = getUrl();\n    Promise.resolve(rt.headers()).then(function (headers) {\n      return rt.fetch(url, {\n        method: method[type],\n        signal: ac === null || ac === void 0 ? void 0 : ac.signal,\n        body: getBody(),\n        headers: _objectSpread({\n          'content-type': 'application/json'\n        }, headers)\n      });\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      resolve(json);\n    }).catch(reject);\n  });\n\n  var cancel = function cancel() {\n    ac === null || ac === void 0 ? void 0 : ac.abort();\n  };\n\n  return {\n    promise: promise,\n    cancel: cancel\n  };\n}\n\nexport { TRPCAbortError as T, httpRequest as h, transformRPCResponse as t };\n","import { T as TRPCClientError } from '../../../dist/TRPCClientError-09b8a26b.esm.js';\nimport _createForOfIteratorHelper from '@babel/runtime/helpers/esm/createForOfIteratorHelper';\nimport { T as TRPCAbortError, t as transformRPCResponse, h as httpRequest } from '../../../dist/httpRequest-672ff1f0.esm.js';\nimport '@babel/runtime/helpers/objectSpread2';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/assertThisInitialized';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/createSuper';\nimport '@babel/runtime/helpers/wrapNativeSuper';\n\n/**\n * Dataloader that's very inspired by https://github.com/graphql/dataloader\n * Less configuration, no caching, and allows you to cancel requests\n * When cancelling a single fetch the whole batch will be cancelled only when _all_ items are cancelled\n */\nfunction dataLoader(fetchMany) {\n  var batch = null;\n  var dispatchTimer = null;\n\n  var destroyTimerAndBatch = function destroyTimerAndBatch() {\n    clearTimeout(dispatchTimer);\n    dispatchTimer = null;\n    batch = null;\n  };\n\n  function dispatch() {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    var batchCopy = batch;\n    destroyTimerAndBatch();\n\n    var _fetchMany = fetchMany(batchCopy.items.map(function (v) {\n      return v.key;\n    })),\n        promise = _fetchMany.promise,\n        cancel = _fetchMany.cancel;\n\n    batchCopy.cancel = cancel;\n    promise.then(function (result) {\n      for (var i = 0; i < result.length; i++) {\n        var _value = result[i];\n        batchCopy.items[i].resolve(_value);\n      }\n    }).catch(function (cause) {\n      var _iterator = _createForOfIteratorHelper(batchCopy.items),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          item.reject(cause);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    });\n  }\n\n  function load(key) {\n    var batchItem = {\n      cancelled: false,\n      key: key\n    };\n\n    if (!batch) {\n      batch = {\n        items: [],\n        cancel: function cancel() {\n          destroyTimerAndBatch();\n        }\n      };\n    }\n\n    var thisBatch = batch;\n    var promise = new Promise(function (resolve, reject) {\n      var item = batchItem;\n      item.reject = reject;\n      item.resolve = resolve;\n      thisBatch.items.push(item);\n    });\n\n    if (!dispatchTimer) {\n      dispatchTimer = setTimeout(dispatch);\n    }\n\n    var cancel = function cancel() {\n      batchItem.cancelled = true;\n\n      if (thisBatch.items.some(function (item) {\n        return !item.cancelled;\n      })) {\n        // there are still things that can be resolved\n        return;\n      }\n\n      thisBatch.cancel();\n    };\n\n    return {\n      promise: promise,\n      cancel: cancel\n    };\n  }\n\n  return {\n    load: load\n  };\n}\n\nfunction httpBatchLink(opts) {\n  var url = opts.url; // initialized config\n\n  return function (runtime) {\n    // initialized in app\n    var fetcher = function fetcher(type) {\n      return function (keyInputPairs) {\n        var path = keyInputPairs.map(function (op) {\n          return op.path;\n        }).join(',');\n        var inputs = keyInputPairs.map(function (op) {\n          return op.input;\n        });\n\n        var _httpRequest = httpRequest({\n          url: url,\n          inputs: inputs,\n          path: path,\n          runtime: runtime,\n          type: type\n        }),\n            promise = _httpRequest.promise,\n            cancel = _httpRequest.cancel;\n\n        return {\n          promise: promise.then(function (res) {\n            if (!Array.isArray(res)) {\n              return keyInputPairs.map(function () {\n                return res;\n              });\n            }\n\n            return res;\n          }),\n          cancel: cancel\n        };\n      };\n    };\n\n    var query = dataLoader(fetcher('query'));\n    var mutation = dataLoader(fetcher('mutation'));\n    var subscription = dataLoader(fetcher('subscription'));\n    var loaders = {\n      query: query,\n      subscription: subscription,\n      mutation: mutation\n    };\n    return function (_ref) {\n      var op = _ref.op,\n          prev = _ref.prev,\n          onDestroy = _ref.onDestroy;\n      var loader = loaders[op.type];\n\n      var _loader$load = loader.load(op),\n          promise = _loader$load.promise,\n          cancel = _loader$load.cancel;\n\n      var isDone = false;\n\n      var prevOnce = function prevOnce(result) {\n        if (isDone) {\n          return;\n        }\n\n        isDone = true;\n        prev(result);\n      };\n\n      onDestroy(function () {\n        prevOnce(TRPCClientError.from(new TRPCAbortError(), {\n          isDone: true\n        }));\n        cancel();\n      });\n      promise.then(function (envelope) {\n        prevOnce(transformRPCResponse({\n          envelope: envelope,\n          runtime: runtime\n        }));\n      }).catch(function (cause) {\n        prevOnce(TRPCClientError.from(cause));\n      });\n    };\n  };\n}\n\nexport { httpBatchLink };\n","import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\nimport _createForOfIteratorHelper from '@babel/runtime/helpers/esm/createForOfIteratorHelper';\nimport { T as TRPCAbortError } from './httpRequest-672ff1f0.esm.js';\nimport { httpBatchLink } from '../links/httpBatchLink/dist/trpc-client-links-httpBatchLink.esm.js';\nimport { T as TRPCClientError } from './TRPCClientError-09b8a26b.esm.js';\nexport { T as TRPCClientError } from './TRPCClientError-09b8a26b.esm.js';\nimport '@babel/runtime/helpers/assertThisInitialized';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/createSuper';\nimport '@babel/runtime/helpers/wrapNativeSuper';\n\nfunction observable() {\n  var listeners = [];\n  var value = null;\n  return {\n    subscribe: function subscribe(callbacks) {\n      var listener = {\n        callbacks: callbacks,\n        unsubscribe: function unsubscribe() {\n          var index = listeners.indexOf(listener);\n\n          if (index !== -1) {\n            var _listener$callbacks$o, _listener$callbacks;\n\n            listeners.splice(index, 1);\n            (_listener$callbacks$o = (_listener$callbacks = listener.callbacks).onDone) === null || _listener$callbacks$o === void 0 ? void 0 : _listener$callbacks$o.call(_listener$callbacks);\n          }\n        }\n      };\n      listeners.push(listener);\n      return function () {\n        listener.unsubscribe();\n      };\n    },\n    next: function next(newValue) {\n      var oldValue = value;\n      value = newValue;\n\n      if (oldValue !== newValue) {\n        var _iterator = _createForOfIteratorHelper(listeners),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _listener$callbacks$o2, _listener$callbacks2;\n\n            var listener = _step.value;\n            (_listener$callbacks$o2 = (_listener$callbacks2 = listener.callbacks).onNext) === null || _listener$callbacks$o2 === void 0 ? void 0 : _listener$callbacks$o2.call(_listener$callbacks2, newValue);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    },\n    done: function done() {\n      while (listeners.length) {\n        var _listener$callbacks$o3, _listener$callbacks3;\n\n        var listener = listeners.pop();\n        listener === null || listener === void 0 ? void 0 : (_listener$callbacks$o3 = (_listener$callbacks3 = listener.callbacks).onDone) === null || _listener$callbacks$o3 === void 0 ? void 0 : _listener$callbacks$o3.call(_listener$callbacks3);\n        listener === null || listener === void 0 ? void 0 : listener.unsubscribe();\n      }\n    },\n    error: function (_error) {\n      function error(_x) {\n        return _error.apply(this, arguments);\n      }\n\n      error.toString = function () {\n        return _error.toString();\n      };\n\n      return error;\n    }(function (error) {\n      var _iterator2 = _createForOfIteratorHelper(listeners),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _listener$callbacks$o4, _listener$callbacks4;\n\n          var listener = _step2.value;\n          (_listener$callbacks$o4 = (_listener$callbacks4 = listener.callbacks).onError) === null || _listener$callbacks$o4 === void 0 ? void 0 : _listener$callbacks$o4.call(_listener$callbacks4, error);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    })\n  };\n}\nfunction observableSubject(initialValue) {\n  var $obs = observable();\n  var value = initialValue;\n  $obs.next(initialValue);\n  return _objectSpread(_objectSpread({}, $obs), {}, {\n    next: function next(v) {\n      value = v;\n      $obs.next(v);\n    },\n    get: function get() {\n      return value;\n    }\n  });\n}\n\nfunction executeChain(opts) {\n  var $result = observableSubject(null);\n\n  var updateResult = function updateResult(result) {\n    if (result instanceof Error) {\n      $result.error(result);\n\n      if (result.isDone) {\n        $result.done();\n      }\n    } else {\n      $result.next(result);\n    }\n  };\n\n  function walk(_ref) {\n    var index = _ref.index,\n        op = _ref.op,\n        stack = _ref.stack;\n    var link = opts.links[index];\n    var prev = index === 0 ? function (value) {\n      return updateResult(value);\n    } : stack[index - 1];\n    link({\n      op: op,\n      prev: prev,\n      next: function next(op, prevOp) {\n        var prevStack = stack.slice();\n        prevStack[index] = prevOp;\n        walk({\n          index: index + 1,\n          op: op,\n          stack: prevStack\n        });\n      },\n      onDestroy: function onDestroy(callback) {\n        $result.subscribe({\n          onDone: function onDone() {\n            callback();\n          }\n        });\n      }\n    });\n  }\n\n  walk({\n    index: 0,\n    op: opts.op,\n    stack: []\n  });\n  return $result;\n}\n\nfunction getWindow() {\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  return global;\n}\nfunction getAbortController(ac) {\n  var win = getWindow();\n  return ac || win.AbortController || null;\n}\n\nfunction getFetch(f) {\n  if (f) {\n    return f;\n  }\n\n  var win = getWindow();\n\n  if (win.fetch) {\n    return typeof win.fetch.bind === 'function' ? win.fetch.bind(win) : win.fetch;\n  }\n\n  throw new Error('No fetch implementation found');\n}\n\nvar idCounter = 0;\n\nfunction getRequestId() {\n  return ++idCounter;\n}\n\nvar TRPCClient = /*#__PURE__*/function () {\n  function TRPCClient(opts) {\n    var _this = this;\n\n    _classCallCheck(this, TRPCClient);\n\n    this.links = void 0;\n    this.runtime = void 0;\n    var transformer = opts.transformer ? 'input' in opts.transformer ? {\n      serialize: opts.transformer.input.serialize,\n      deserialize: opts.transformer.output.deserialize\n    } : opts.transformer : {\n      serialize: function serialize(data) {\n        return data;\n      },\n      deserialize: function deserialize(data) {\n        return data;\n      }\n    };\n\n    var _fetch = getFetch(opts === null || opts === void 0 ? void 0 : opts.fetch);\n\n    var AC = getAbortController(opts === null || opts === void 0 ? void 0 : opts.AbortController);\n\n    function getHeadersFn() {\n      if (opts.headers) {\n        var headers = opts.headers;\n        return typeof headers === 'function' ? headers : function () {\n          return headers;\n        };\n      }\n\n      return function () {\n        return {};\n      };\n    }\n\n    this.runtime = {\n      transformer: transformer,\n      AbortController: AC,\n      fetch: _fetch,\n      headers: getHeadersFn()\n    };\n\n    if ('links' in opts) {\n      this.links = opts.links.map(function (link) {\n        return link(_this.runtime);\n      });\n    } else {\n      this.links = [httpBatchLink({\n        url: opts.url\n      })(this.runtime)];\n    }\n  }\n\n  _createClass(TRPCClient, [{\n    key: \"$request\",\n    value: function $request(_ref) {\n      var type = _ref.type,\n          input = _ref.input,\n          path = _ref.path,\n          _ref$context = _ref.context,\n          context = _ref$context === void 0 ? {} : _ref$context;\n      var $result = executeChain({\n        links: this.links,\n        op: {\n          id: getRequestId(),\n          type: type,\n          path: path,\n          input: input,\n          context: context\n        }\n      });\n      return $result;\n    }\n  }, {\n    key: \"requestAsPromise\",\n    value: function requestAsPromise(opts) {\n      var $result = this.$request(opts);\n      var promise = new Promise(function (resolve, reject) {\n        var res = $result.get();\n\n        if ((res === null || res === void 0 ? void 0 : res.type) === 'data') {\n          resolve(res.data);\n          $result.done();\n          return;\n        }\n\n        $result.subscribe({\n          onNext: function onNext(result) {\n            if ((result === null || result === void 0 ? void 0 : result.type) !== 'data') {\n              return;\n            }\n\n            resolve(result.data);\n            $result.done();\n          },\n          onError: function onError(err) {\n            reject(err);\n            $result.done();\n          },\n          onDone: function onDone() {\n            reject(TRPCClientError.from(new TRPCAbortError()));\n          }\n        });\n      });\n\n      promise.cancel = function () {\n        $result.done();\n      };\n\n      return promise;\n    }\n  }, {\n    key: \"query\",\n    value: function query(path) {\n      var _ref2;\n\n      var context = (_ref2 = arguments.length <= 2 ? undefined : arguments[2]) === null || _ref2 === void 0 ? void 0 : _ref2.context;\n      return this.requestAsPromise({\n        type: 'query',\n        path: path,\n        input: arguments.length <= 1 ? undefined : arguments[1],\n        context: context\n      });\n    }\n  }, {\n    key: \"mutation\",\n    value: function mutation(path) {\n      var _ref3;\n\n      var context = (_ref3 = arguments.length <= 2 ? undefined : arguments[2]) === null || _ref3 === void 0 ? void 0 : _ref3.context;\n      return this.requestAsPromise({\n        type: 'mutation',\n        path: path,\n        input: arguments.length <= 1 ? undefined : arguments[1],\n        context: context\n      });\n    }\n  }, {\n    key: \"subscription\",\n    value: function subscription(path, input, opts) {\n      var $res = this.$request({\n        type: 'subscription',\n        path: path,\n        input: input,\n        context: opts.context\n      });\n      $res.subscribe({\n        onNext: function onNext(output) {\n          if (output) {\n            var _opts$onNext;\n\n            (_opts$onNext = opts.onNext) === null || _opts$onNext === void 0 ? void 0 : _opts$onNext.call(opts, output);\n          }\n        },\n        onError: function onError(err) {\n          var _opts$onError;\n\n          (_opts$onError = opts.onError) === null || _opts$onError === void 0 ? void 0 : _opts$onError.call(opts, err);\n        },\n        onDone: opts.onDone\n      });\n      return function () {\n        $res.done();\n      };\n    }\n  }]);\n\n  return TRPCClient;\n}();\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction createTRPCClient(opts) {\n  return new TRPCClient(opts);\n}\n\nexport { createTRPCClient, getFetch };\n","import { v4 as uuid } from 'uuid';\nimport superjson from 'superjson';\nimport { wsLink, createWSClient } from '@trpc/client/links/wsLink';\nimport { createTRPCClient, TRPCClient } from '@trpc/client';\nimport type { AppRouter } from './@types/server/src/server/routers/_app';\n\ninterface RCClientOptions {\n  hostname: string;\n  channelKey: string;\n  secure?: boolean;\n}\n\nexport default class RCClient {\n  uuid: string;\n  channelKey: string;\n  trpcClient: TRPCClient<AppRouter>;\n\n  constructor(opts: RCClientOptions) {\n    if (typeof opts !== 'object') throw new Error('RCClient: options required');\n    if (\n      typeof opts['hostname'] !== 'string' ||\n      opts['hostname'] === '' ||\n      opts['hostname'].startsWith('http')\n    ) {\n      throw new Error(`RCClient: 'hostname' required, e.g. 'example.com'`);\n    }\n    if (\n      typeof opts['channelKey'] !== 'string' ||\n      !new RegExp('^[A-Za-z0-9-_.~]*$').test(opts['channelKey'])\n    ) {\n      throw new Error(\n        `RCClient: 'channelKey' required, e.g. 'abcdefghij_0123456789'`\n      );\n    }\n    const { hostname, channelKey, secure = true } = opts;\n    this.uuid = uuid();\n    this.channelKey = channelKey;\n\n    const clientBase = `${secure ? 'https' : 'http'}://${hostname}`;\n    const clientURL = new URL('/api/trpc', clientBase).toString();\n    const wsURL = `${secure ? 'wss' : 'ws'}://${hostname}`;\n    const wsClient = createWSClient({\n      url: wsURL,\n    });\n    const link = wsLink<AppRouter>({\n      client: wsClient,\n    });\n    this.trpcClient = createTRPCClient<AppRouter>({\n      url: clientURL,\n      links: [link],\n      transformer: superjson,\n    });\n  }\n\n  async update(\n    data: { [name: string]: any },\n    callback?: (err: unknown | null) => void\n  ) {\n    try {\n      await this.trpcClient.mutation('channel.update', {\n        key: this.channelKey,\n        data: {\n          data,\n        },\n        uuid: this.uuid,\n      });\n      if (callback) callback(null);\n    } catch (error) {\n      if (callback) callback(error);\n    }\n  }\n\n  subscribe(\n    callback: (err: unknown | null, data?: { [name: string]: any }) => void\n  ) {\n    return this.trpcClient.subscription(\n      'channel.onUpdate',\n      {\n        key: this.channelKey,\n        uuid: this.uuid,\n      },\n      {\n        onNext: (res) => {\n          if (res.type === 'data') {\n            callback(null, res.data.data as { [name: string]: any });\n          }\n        },\n        onError: (err) => callback(err),\n      }\n    );\n  }\n\n  async read(\n    callback: (err: unknown | null, data?: { [name: string]: any }) => void\n  ) {\n    try {\n      const data = await this.trpcClient.query('channel.read', this.channelKey);\n      callback(null, data.data as { [name: string]: any });\n    } catch (error) {\n      callback(error);\n    }\n  }\n}\n"],"names":["getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","validate","uuid","REGEX","test","byteToHex","i","push","toString","substr","v4","options","buf","offset","rnds","random","arr","arguments","length","undefined","toLowerCase","TypeError","stringify","DoubleIndexedKV","this","keyToValue","Map","valueToKey","prototype","set","key","value","getByKey","get","getByValue","clear","s","m","h","d","val","type","str","String","match","exec","n","parseFloat","parse","isFinite","long","ms","msAbs","Math","abs","plural","fmtLong","round","fmtShort","JSON","name","isPlural","extendStatics","debug","exports","args","useColors","namespace","module","humanize","diff","c","color","splice","index","lastC","replace","namespaces","storage","setItem","removeItem","error","r","getItem","process","env","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","$1","localStorage","localstorage","warned","warn","log","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","self","curr","Number","Date","prev","coerce","unshift","format","formatter","formatters","call","formatArgs","apply","selectColor","extend","destroy","Object","defineProperty","enumerable","configurable","v","init","delimiter","newDebug","toNamespace","regexp","substring","default","stack","message","disable","names","map","skips","join","enable","save","split","len","require$$0","keys","forEach","hash","charCodeAt","colors","load","j","Registry","generateIdentifier","kv","register","identifier","NODE_ENV","alreadyRegistered","getIdentifier","getValue","__extends","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","ClassRegistry","_super","_ClassRegistry","_this","classToAllowedProps","allowProps","getAllowedProps","SymbolRegistry","_a","description","record","run","entries","_b","o","Symbol","iterator","e","ar","next","done","__read","includes","indexOf","findArr","predicate","transfomers","CustomTransformerRegistry","values","valuesOfObj","find","valuesNotNever","transformer","isApplicable","__spreadArray","to","from","il","allowedErrorProps","getType","payload","slice","isUndefined","isPlainObject","getPrototypeOf","isEmptyObject","isArray","isMap","isSet","Set","isSymbol","isNaNValue","isNaN","isPrimitive","isBoolean","isNull","isNumber","isString","escapeKey","stringifyPath","path","parsePath","string","result","segment","char","charAt","__assign","assign","t","simpleTransformation","annotation","transform","untransform","simpleRules","BigInt","valueOf","toISOString","baseError","prop","regex","body","lastIndexOf","flags","Infinity","compositeTransformation","symbolRule","_","a","constructorToName","Int8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Uint8ClampedArray","reduce","obj","ctor","typedArrayRule","ArrayBuffer","isView","DataView","isInstanceOfRegisteredClass","potentialClass","classRule","clazz","allowedProps","customRule","serialize","deserialize","compositeRules","transformValue","applicableCompositeRule","rule","applicableSimpleRule","simpleRulesByAnnotation","getNthKey","validatePath","setDeep","object","mapper","parent","keyOfRow","lastKey","oldValue","newValue","add","keyToRow","newKey","traverse","tree","walker","origin","nodeValue","children","child","subtree","applyValueAnnotations","plain","annotations","json","transformation","untransformValue","identities","objectsInThisPath","existingSet","addIdentity","isDeep","transformed_1","transformedValue","transformationResult","transformed","innerAnnotations","recursiveResult","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","boolTag","dateTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reFlags","reIsHostCtor","reIsUint","cloneableTags","freeSelf","root","global","Function","freeExports","nodeType","freeModule","moduleExports","addMapEntry","pair","addSetEntry","arrayReduce","array","iteratee","accumulator","initAccum","isHostObject","mapToArray","size","overArg","func","arg","setToArray","uid","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","IE_PROTO","funcToString","objectToString","reIsNative","Buffer","getPrototype","objectCreate","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","getNative","Promise","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Hash","entry","ListCache","MapCache","Stack","__data__","assignValue","objValue","eq","assocIndexOf","baseClone","isFull","customizer","isObject","isArr","input","initCloneArray","source","copyArray","tag","getTag","isFunc","buffer","copy","cloneBuffer","isPrototype","proto","initCloneObject","copyObject","getSymbols","copySymbols","baseAssign","cloneFunc","Ctor","cloneArrayBuffer","dataView","byteOffset","byteLength","cloneDataView","typedArray","cloneTypedArray","cloneMap","lastIndex","cloneRegExp","cloneSet","initCloneByTag","stacked","props","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getAllKeys","arrayEach","subValue","arrayBuffer","getMapData","data","isFunction","baseIsNative","has","pop","cache","pairs","LARGE_ARRAY_SIZE","isIndex","other","resolve","ctorString","isArrayLike","isLength","inherited","isObjectLike","isArrayLikeObject","isArguments","baseTimes","skipIndexes","arrayLikeKeys","baseKeys","output","res","meta","rootEqualityPaths","equalityAnnotations","paths","sort","shortestPath","identicalPaths","referentialEqualities","cloneDeep","getDeep","identicalObjectPath","identicalPath","applyReferentialEqualityAnnotations","registerClass","registerSymbol","registerCustom","allowErrorProps","_i","_defineProperty","writable","ownKeys","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","target","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","_assertThisInitialized","ReferenceError","_setPrototypeOf","_inherits","subClass","superClass","_getPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_typeof","_possibleConstructorReturn","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","Super","NewTarget","possibleConstructorReturn","_construct","Parent","Class","_wrapNativeSuper","_cache","Wrapper","_defineProperties","descriptor","_createClass","protoProps","staticProps","TRPCClientError","_Error","opts","_opts$cause","_opts$isDone","_opts$result","_opts$result2","cause","originalError","shape","isDone","_message","_objectSpread","retryDelay","attemptIndex","min","pow","createWSClient","url","_opts$WebSocket","WebSocket","WebSocketImpl","_opts$retryDelayMs","retryDelayMs","retryDelayFn","outgoing","pendingRequests","connectAttempt","dispatchTimer","connectTimer","activeConnection","createWS","state","dispatch","setTimeout","send","tryReconnect","reconnect","reconnectInMs","oldConnection","closeIfNoPending","conn","some","ws","close","resumeSubscriptionOnReconnect","req","id","op","request","callbacks","clearTimeout","addEventListener","_ref","msg","method","_Object$values","pendingReq","handleIncomingRequest","_req$callbacks$onNext","_req$callbacks2","_req$callbacks$onErro","_req$callbacks","onError","onNext","oldWs","_req$callbacks$onDone","_req$callbacks3","onDone","handleIncomingResponse","_req$callbacks$onErro2","_req$callbacks4","_req$callbacks$onDone2","_req$callbacks5","TRPCWebSocketClosedError","envelope","jsonrpc","params","_pendingRequests$id","_callbacks$onDone","getConnection","TRPCSubscriptionEndedError","_Error2","_super2","_this2","_arrayLikeToArray","arr2","_createForOfIteratorHelper","allowArrayLike","it","minLen","arrayLikeToArray","unsupportedIterableToArray","F","_e","f","err","normalCompletion","didErr","step","_e2","TRPCAbortError","dataLoader","fetchMany","batch","destroyTimerAndBatch","batchCopy","_fetchMany","items","promise","cancel","then","catch","_step","_iterator","reject","batchItem","cancelled","thisBatch","item","httpBatchLink","runtime","fetcher","keyInputPairs","inputs","_httpRequest","rt","ac","AbortController","query","mutation","subscription","dict","arrayToDict","_input","getBody","queryParts","concat","encodeURIComponent","getUrl","headers","fetch","signal","abort","httpRequest","loaders","onDestroy","_loader$load","prevOnce","transformRPCResponse","getWindow","idCounter","TRPCClient","links","win","_fetch","getFetch","AC","getHeadersFn","link","$obs","$result","_ref$context","context","listeners","subscribe","listener","unsubscribe","_listener$callbacks$o","_listener$callbacks","_listener$callbacks$o2","_listener$callbacks2","_listener$callbacks$o3","_listener$callbacks3","_error","_x","_step2","_iterator2","_listener$callbacks$o4","_listener$callbacks4","observable","walk","prevOp","prevStack","callback","$request","_ref2","requestAsPromise","_ref3","$res","_opts$onNext","_opts$onError","channelKey","trpcClient","startsWith","hostname","secure","clientURL","URL","client","unsub","wsLink","createTRPCClient","superjson","update","read","_this4"],"mappings":"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"}